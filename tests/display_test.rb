require "minitest/autorun"
require_relative "../display"

class DisplayTest < Minitest::Test
  def test_initialization
    display = Display.new
    assert_equal display.output_as_string,
      "................................................................\n" +
      "................................................................\n" +
      "................................................................\n" +
      "................................................................\n" +
      "................................................................\n" +
      "................................................................\n" +
      "................................................................\n" +
      "................................................................\n" +
      "................................................................\n" +
      "................................................................\n" +
      "................................................................\n" +
      "................................................................\n" +
      "................................................................\n" +
      "................................................................\n" +
      "................................................................\n" +
      "................................................................\n" +
      "................................................................\n" +
      "................................................................\n" +
      "................................................................\n" +
      "................................................................\n" +
      "................................................................\n" +
      "................................................................\n" +
      "................................................................\n" +
      "................................................................\n" +
      "................................................................\n" +
      "................................................................\n" +
      "................................................................\n" +
      "................................................................\n" +
      "................................................................\n" +
      "................................................................\n" +
      "................................................................\n" +
      "................................................................"
  end

  def test_setting_pixels
    display = Display.new
    display.set_pixel(3, 5)
    assert_equal display.output_as_string,
      "................................................................\n" +
      "................................................................\n" +
      "................................................................\n" +
      "................................................................\n" +
      "................................................................\n" +
      "...#............................................................\n" +
      "................................................................\n" +
      "................................................................\n" +
      "................................................................\n" +
      "................................................................\n" +
      "................................................................\n" +
      "................................................................\n" +
      "................................................................\n" +
      "................................................................\n" +
      "................................................................\n" +
      "................................................................\n" +
      "................................................................\n" +
      "................................................................\n" +
      "................................................................\n" +
      "................................................................\n" +
      "................................................................\n" +
      "................................................................\n" +
      "................................................................\n" +
      "................................................................\n" +
      "................................................................\n" +
      "................................................................\n" +
      "................................................................\n" +
      "................................................................\n" +
      "................................................................\n" +
      "................................................................\n" +
      "................................................................\n" +
      "................................................................"
  end

  def test_setting_corners
    display = Display.new
    display.set_pixel(0, 0)
    display.set_pixel(63, 0)
    display.set_pixel(0, 31)
    display.set_pixel(63, 31)
    assert_equal display.output_as_string,
      "#..............................................................#\n" +
      "................................................................\n" +
      "................................................................\n" +
      "................................................................\n" +
      "................................................................\n" +
      "................................................................\n" +
      "................................................................\n" +
      "................................................................\n" +
      "................................................................\n" +
      "................................................................\n" +
      "................................................................\n" +
      "................................................................\n" +
      "................................................................\n" +
      "................................................................\n" +
      "................................................................\n" +
      "................................................................\n" +
      "................................................................\n" +
      "................................................................\n" +
      "................................................................\n" +
      "................................................................\n" +
      "................................................................\n" +
      "................................................................\n" +
      "................................................................\n" +
      "................................................................\n" +
      "................................................................\n" +
      "................................................................\n" +
      "................................................................\n" +
      "................................................................\n" +
      "................................................................\n" +
      "................................................................\n" +
      "................................................................\n" +
      "#..............................................................#"
  end
end